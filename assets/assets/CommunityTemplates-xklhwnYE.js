import{r as a,d as E,e as F,c as l,a as e,g as L,F as c,l as m,i as N,v as $,G as P,o as r,t as i}from"./main-CKplmvXD.js";const R={class:"space-y-6"},M={class:"flex items-center justify-between"},D=["disabled"],K={key:0},U={key:1},A={class:"space-y-6"},O={class:"bg-white rounded-lg border border-gray-200 shadow-sm"},W={class:"px-6 py-6"},X={class:"mb-4"},G={class:"flex flex-wrap gap-2"},J=["onClick"],q={class:"mt-4 p-4 bg-gray-50 rounded-md"},z={class:"grid grid-cols-2 gap-2 text-xs text-gray-600"},H={class:"text-blue-600"},I={class:"bg-white rounded-lg border border-gray-200 shadow-sm"},Q={class:"px-6 py-6"},Y={class:"mb-4"},Z={class:"flex flex-wrap gap-2"},ee=["onClick"],te={class:"mt-4 p-4 bg-gray-50 rounded-md"},se={class:"grid grid-cols-2 gap-2 text-xs text-gray-600"},oe={class:"text-blue-600"},ne={key:0,class:"fixed bottom-4 right-4 px-4 py-3 bg-green-600 text-white rounded-lg shadow-lg flex items-center gap-2"},ie={__name:"CommunityTemplates",setup(le){var S,T;const p=((S=window.buygo_admin)==null?void 0:S.rest_url)||"/wp-json/buygo/v1",x=((T=window.buygo_admin)==null?void 0:T.nonce)||"",n=a({single:`ğŸ›’ {å•†å“åç¨±}

ğŸ’° åƒ¹æ ¼ï¼š{åƒ¹æ ¼}
ğŸ“¦ æ•¸é‡ï¼š{åº«å­˜} å€‹

ğŸ‘‰ ç•™è¨€ +1 å³å¯ä¸‹å–®ï¼
ğŸ‘‰ +æ•¸é‡ å¯è³¼è²·å¤šå€‹ï¼ˆå¦‚ +2ï¼‰
ğŸ“… åˆ°è²¨ï¼š{åˆ°è²¨æ—¥}

{æè¿°}`,multi:`ğŸ›’ {å•†å“åç¨±}

ğŸ“¦ å•†å“æ¨£å¼ï¼š

{æ¨£å¼æ¸…å–®}

ğŸ‘‰ ç•™è¨€æ ¼å¼ï¼š[ä»£ç¢¼]+[æ•¸é‡]
   ä¾‹å¦‚ï¼šA+1 æˆ– B+2
ğŸ“… åˆ°è²¨ï¼š{åˆ°è²¨æ—¥}

{æè¿°}`}),b=[{key:"å•†å“åç¨±",description:"å•†å“åç¨±"},{key:"åƒ¹æ ¼",description:"å•†å“åƒ¹æ ¼ï¼ˆæ ¼å¼åŒ–ï¼‰"},{key:"åº«å­˜",description:"åº«å­˜æ•¸é‡"},{key:"åˆ°è²¨æ—¥",description:"é è¨ˆåˆ°è²¨æ—¥æœŸ"},{key:"æè¿°",description:"å•†å“æè¿°"}],f=[{key:"å•†å“åç¨±",description:"å•†å“åç¨±"},{key:"æ¨£å¼æ¸…å–®",description:"è‡ªå‹•ç”Ÿæˆçš„æ¨£å¼æ¸…å–®"},{key:"åˆ°è²¨æ—¥",description:"é è¨ˆåˆ°è²¨æ—¥æœŸ"},{key:"æè¿°",description:"å•†å“æè¿°"}],v=a(null),k=a(null),u=a(!1),g=a(!1),w=(o,t)=>{const s=o==="single"?v.value:k.value;if(!s)return;const d=`{${t}}`,y=s.selectionStart,j=s.selectionEnd,C=o==="single"?n.value.single:n.value.multi,V=C.substring(0,y)+d+C.substring(j);o==="single"?n.value.single=V:n.value.multi=V,setTimeout(()=>{s.focus(),s.setSelectionRange(y+d.length,y+d.length)},0)},B=async()=>{try{const o=await fetch(`${p}/settings/community-templates`,{headers:{"X-WP-Nonce":x}});if(o.ok){const t=await o.json();t.single&&(n.value.single=t.single),t.multi&&(n.value.multi=t.multi)}}catch(o){console.error("Failed to load community templates:",o)}},h=async()=>{u.value=!0;try{if((await fetch(`${p}/settings/community-templates`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":x},body:JSON.stringify(n.value)})).ok)g.value=!0,setTimeout(()=>{g.value=!1},3e3);else throw new Error("Save failed")}catch(o){console.error("Failed to save community templates:",o),alert("å„²å­˜å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")}finally{u.value=!1}},_=o=>{(o.metaKey||o.ctrlKey)&&o.key==="s"&&(o.preventDefault(),h())};return E(()=>{B(),document.addEventListener("keydown",_)}),F(()=>{document.removeEventListener("keydown",_)}),(o,t)=>(r(),l("div",R,[e("div",M,[t[3]||(t[3]=e("div",null,[e("h1",{class:"text-2xl font-semibold text-gray-900"},"ç¤¾ç¾¤ä¸Šæ¶æ¨¡ç‰ˆ"),e("p",{class:"mt-1 text-sm text-gray-500"},"ç®¡ç† FluentCommunity å•†å“ç™¼æ–‡çš„æ¨¡ç‰ˆæ ¼å¼")],-1)),e("button",{onClick:h,disabled:u.value,class:"inline-flex items-center gap-2 px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"},[u.value?(r(),l("span",K,"å„²å­˜ä¸­...")):(r(),l("span",U,"å„²å­˜")),t[2]||(t[2]=e("kbd",{class:"hidden sm:inline-flex items-center px-2 py-0.5 text-xs font-semibold text-gray-400 bg-gray-800 border border-gray-700 rounded"},"âŒ˜S",-1))],8,D)]),e("div",A,[e("div",O,[t[7]||(t[7]=e("div",{class:"px-6 py-5 border-b border-gray-200"},[e("h2",{class:"text-lg font-medium text-gray-900"},"å–®ä¸€å•†å“æ¨¡ç‰ˆ"),e("p",{class:"mt-1 text-sm text-gray-500"},"ç•¶å•†å“æ²’æœ‰å¤šæ¨£å¼æ™‚ä½¿ç”¨æ­¤æ¨¡ç‰ˆ")],-1)),e("div",W,[e("div",X,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"å¯ç”¨è®Šæ•¸ï¼ˆé»æ“Šæ’å…¥ï¼‰",-1)),e("div",G,[(r(),l(c,null,m(b,s=>e("button",{key:s.key,onClick:d=>w("single",s.key),class:"px-3 py-1.5 text-xs font-mono text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 transition-colors",type:"button"},i("{"+s.key+"}"),9,J)),64))])]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},"æ¨¡ç‰ˆå…§å®¹",-1)),N(e("textarea",{ref_key:"singleTemplateRef",ref:v,"onUpdate:modelValue":t[0]||(t[0]=s=>n.value.single=s),rows:"12",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent text-sm font-mono",placeholder:"è¼¸å…¥å–®ä¸€å•†å“çš„ç™¼æ–‡æ¨¡ç‰ˆ..."},null,512),[[$,n.value.single]])]),e("div",q,[t[6]||(t[6]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"è®Šæ•¸èªªæ˜",-1)),e("div",z,[(r(),l(c,null,m(b,s=>e("div",{key:s.key,class:"flex gap-2"},[e("code",H,i("{"+s.key+"}"),1),e("span",null,i(s.description),1)])),64))])])])]),e("div",I,[t[12]||(t[12]=e("div",{class:"px-6 py-5 border-b border-gray-200"},[e("h2",{class:"text-lg font-medium text-gray-900"},"å¤šæ¨£å¼å•†å“æ¨¡ç‰ˆ"),e("p",{class:"mt-1 text-sm text-gray-500"},"ç•¶å•†å“æœ‰å¤šå€‹æ¨£å¼ï¼ˆå°ºå¯¸ã€é¡è‰²ç­‰ï¼‰æ™‚ä½¿ç”¨æ­¤æ¨¡ç‰ˆ")],-1)),e("div",Q,[e("div",Y,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"å¯ç”¨è®Šæ•¸ï¼ˆé»æ“Šæ’å…¥ï¼‰",-1)),e("div",Z,[(r(),l(c,null,m(f,s=>e("button",{key:s.key,onClick:d=>w("multi",s.key),class:"px-3 py-1.5 text-xs font-mono text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 transition-colors",type:"button"},i("{"+s.key+"}"),9,ee)),64))])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},"æ¨¡ç‰ˆå…§å®¹",-1)),N(e("textarea",{ref_key:"multiTemplateRef",ref:k,"onUpdate:modelValue":t[1]||(t[1]=s=>n.value.multi=s),rows:"16",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent text-sm font-mono",placeholder:"è¼¸å…¥å¤šæ¨£å¼å•†å“çš„ç™¼æ–‡æ¨¡ç‰ˆ..."},null,512),[[$,n.value.multi]])]),e("div",te,[t[10]||(t[10]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"è®Šæ•¸èªªæ˜",-1)),e("div",se,[(r(),l(c,null,m(f,s=>e("div",{key:s.key,class:"flex gap-2"},[e("code",oe,i("{"+s.key+"}"),1),e("span",null,i(s.description),1)])),64))])]),t[11]||(t[11]=P(`<div class="mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md"><h4 class="text-sm font-medium text-yellow-800 mb-2">ğŸ“¦ æ¨£å¼æ¸…å–®æ ¼å¼èªªæ˜</h4><p class="text-xs text-yellow-700 mb-2"><code class="bg-yellow-100 px-1 rounded">{æ¨£å¼æ¸…å–®}</code> è®Šæ•¸æœƒè‡ªå‹•ç”Ÿæˆä»¥ä¸‹æ ¼å¼ï¼š </p><pre class="text-xs text-yellow-800 bg-yellow-100 p-2 rounded">â–«ï¸ A - ç´…è‰² / L - NT$ 590 (åº«å­˜ï¼š20)
â–«ï¸ B - è—è‰² / M - NT$ 550 (åº«å­˜ï¼š15)
â–«ï¸ C - ç™½è‰² / S - NT$ 590 âŒ å·²å”®å®Œ</pre></div>`,1))])])]),g.value?(r(),l("div",ne,[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),e("span",null,"æ¨¡ç‰ˆå·²å„²å­˜",-1)])])):L("",!0)]))}};export{ie as default};
