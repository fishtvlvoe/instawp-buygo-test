import{_ as g,r as d,b as x,d as f,c as e,a as t,t as y,k as p,o as i}from"./main-CKplmvXD.js";const b={class:"buygo-line-binding"},h={class:"buygo-card",style:{padding:"24px"}},_={key:0,style:{"text-align":"center",padding:"20px"}},m={style:{width:"60px",height:"60px",background:"#dcfce7",color:"#166534","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center",margin:"0 auto 16px"}},w={style:{width:"32px",height:"32px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},k={style:{background:"#f9fafb",padding:"12px","border-radius":"6px","margin-top":"20px",display:"inline-block"}},v={style:{color:"#4b5563","font-size":"13px"}},I={key:1,style:{"text-align":"center",padding:"60px 20px"}},L={style:{width:"80px",height:"80px",background:"#f3f4f6",color:"#9ca3af","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center",margin:"0 auto 24px"}},N={style:{width:"40px",height:"40px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E=["href"],B={__name:"LineBinding",setup(j){const r=d(""),a=d(!0),c=x(()=>{const o=`${window.location.origin}/nextend_social_login/?loginSocial=line&action=link`,s=window.location.href;return`${o}&redirect=${encodeURIComponent(s)}`}),u=async()=>{a.value=!0;try{const n=window.buygo_frontend||window.buygo_admin;if(!n||!n.api_url)throw new Error("API Config Missing");const o={"X-WP-Nonce":n.nonce,"Content-Type":"application/json"},s=await fetch(`${n.api_url}/line/bind/status`,{headers:o,credentials:"same-origin"});if(s.ok){const l=await s.json();l.is_bound&&l.line_uid&&(r.value=l.line_uid)}}catch(n){console.error("載入 LINE 綁定狀態失敗:",n)}finally{a.value=!1}};return f(()=>{u()}),(n,o)=>(i(),e("div",b,[o[7]||(o[7]=t("div",{class:"buygo-page-header"},[t("div",{class:"buygo-page-title"},[t("h3",null,"LINE 綁定設定"),t("p",null,"綁定 LINE 帳號以接收即時訂單通知與平台訊息。")])],-1)),t("div",h,[r.value?(i(),e("div",_,[t("div",m,[(i(),e("svg",w,[...o[0]||(o[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])]))]),o[1]||(o[1]=t("h4",{style:{"font-size":"18px","font-weight":"600",color:"#111827","margin-bottom":"8px"}},"已成功綁定 LINE",-1)),o[2]||(o[2]=t("p",{style:{color:"#6b7280"}},"您的帳號已與 LINE 連動，可隨時接收通知。",-1)),t("div",k,[t("span",v,"綁定 UID: "+y(r.value),1)])])):(i(),e("div",I,[t("div",L,[(i(),e("svg",N,[...o[3]||(o[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.2-2.858.57-4.175m5.21 4.175l-4.143-4.143"},null,-1)])]))]),o[4]||(o[4]=t("h4",{style:{"font-size":"20px","font-weight":"700",color:"#111827","margin-bottom":"12px"}},"尚未綁定 LINE 帳號",-1)),o[5]||(o[5]=t("p",{style:{color:"#6b7280","margin-bottom":"32px","font-size":"15px","line-height":"1.6"}},[p("點擊下方按鈕將您的 BuyGo 帳號與 LINE 進行連結。"),t("br"),p("連結後，您將可透過 LINE 接收訂單通知與平台訊息。")],-1)),t("a",{href:c.value,style:{display:"inline-flex","align-items":"center","justify-content":"center","background-color":"#06C755",color:"#fff",padding:"12px 32px","border-radius":"8px","text-decoration":"none","font-weight":"700","font-size":"16px","box-shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",transition:"all 0.2s"}}," 使用 LINE 帳號連結 ",8,E),o[6]||(o[6]=t("p",{style:{"margin-top":"24px","font-size":"13px",color:"#9ca3af"}}," 點擊按鈕即代表您同意連結您的 LINE 帳號資訊 ",-1))]))])]))}},z=g(B,[["__scopeId","data-v-868e1eda"]]);export{z as default};
