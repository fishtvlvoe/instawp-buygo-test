# 產品上架流程 (Flex Message) 需求規格

## 專案概述
優化供應商透過 LINE 官方帳號上架產品的流程。將原本的「純文字+連結」回應，升級為「高質感 Flex Message 卡片」，並透過「圖片 -> 選單 -> 模板」的互動流程，確保全程使用 Reply API，達成 **零行銷費用 (0 Push Cost)** 的目標。

## 使用者故事
- 身為 **供應商 (Vendor)**
- 我想要 **在傳送商品圖片後，收到一個漂亮的選單卡片**
- 以便 **我可以直覺地選擇我要上架的商品類型（單品/多規），並獲得對應的上架文字模板**

## 驗收標準
- [ ] **圖片觸發**：當供應商傳送「圖片 (Image)」訊息給官方帳號時，系統必須**秒回**一張 Flex Message 選單。
- [ ] **Flex Message 選單內容**：
    - [ ] 標題：清楚引導（如「圖片已收到，請選擇上架類型」）。
    - [ ] 按鈕 1：**單一商品模板** (點擊後自動發送「索取單一商品模板」)。
    - [ ] 按鈕 2：**多樣商品模板** (點擊後自動發送「索取多樣商品模板」)。
    - [ ] 按鈕 3：**真人服務/其他** (點擊後觸發既有的關鍵字回應)。
- [ ] **關鍵字回應 (模板回傳)**：
    - [ ] 當系統收到「索取單一商品模板」關鍵字，必須回傳對應的填空文字格式。
    - [ ] 當系統收到「索取多樣商品模板」關鍵字，必須回傳對應的填空文字格式。
- [ ] **費用控管**：所有回應必須使用 LINE Messaging API 的 `replyMessage` (Reply Token)，確保即使上架 1000 次也不會消耗任何 Push Quota。
- [ ] **例外處理**：若非圖片訊息，保持原有邏輯或不做反應。

## 非功能性需求
- **回應速度**：Webhook 必須在 timeout (通常 5-10秒) 內回應，建議目標 < 1秒。
- **介面美觀**：Flex Message 請參考 BuyGo 設計風格（深色/高質感）。
